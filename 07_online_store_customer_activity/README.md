# Удержание активности клиентов интернет-магазина

## Описание

Разработано решение для удержания покупательской активности постоянных клиентов интернет-магазина. Построена ML модель, которая предсказывает вероятность снижения покупательской активности клиента в следующие три месяца. Используя данные модели и данные о прибыльности клиентов, выделен один из сегментов покупателей. Для выделенного сегмента разработаны персонализированные предложения.


## Данные

1. Данные о поведении покупателя на сайте, о коммуникациях с покупателем и его продуктовом поведении:
    - Номер покупателя в корпоративной базе данных
    - Рассчитанный класс покупательской активности (целевой признак): «снизилась» или «прежний уровень»
    - Уровень сервиса, например «премиум» и «стандарт»
    - Информация о том, можно ли присылать покупателю дополнительные предложения о товаре (согласие на это даёт покупатель)
    - Среднемесячное значение маркетинговых коммуникаций компании, которое приходилось на покупателя за последние 6 месяцев (какое число рассылок, звонков, показов рекламы и прочего приходилось на клиента)
    - Количество маркетинговых коммуникаций в текущем месяце
    - Сколько дней прошло с момента регистрации покупателя на сайте
    - Среднемесячная доля покупок по акции от общего числа покупок за последние 6 месяцев
    - Самая популярная категория товаров у покупателя за последние 6 месяцев
    - Сколько в среднем категорий покупатель просмотрел за визит в течение последнего месяца
    - Общее число неоплаченных товаров в корзине за последние 3 месяца
    - Число сбоев, которые коснулись покупателя во время посещения сайта
    - Среднее количество страниц, которые просмотрел покупатель за один визит на сайт за последние 3 месяца
    
2. Данные о выручке, которую получает магазин с покупателя, то есть сколько покупатель всего потратил за период взаимодействия с сайтом:
    - Номер покупателя в корпоративной базе данных
    - Название периода, во время которого зафиксирована выручка
    - Сумма выручки за период

3. Данные о времени (в минутах), которое покупатель провёл на сайте в течение периода:
    - Номер покупателя в корпоративной базе данных
    - Название периода, во время которого зафиксировано общее время
    - Значение времени, проведённого на сайте, в минутах

4. Данные о среднемесячной прибыли покупателя за последние 3 месяца: какую прибыль получает магазин от продаж каждому покупателю:
    - Номер покупателя в корпоративной базе данных
    - Значение прибыли


## Цель проекта

Разработать решение, которое позволит персонализировать предложения постоянным клиентам, чтобы увеличить их покупательскую активность.


## Задачи проекта

1. Построить модель, которая предскажет вероятность снижения покупательской активности клиента в следующие три месяца.

2. Включить в исследование дополнительные данные финансового департамента о прибыльности клиента: какой доход каждый покупатель приносил компании за последние три месяца.

3. Используя данные модели и данные о прибыльности клиентов, выделить сегменты покупателей и разработать для них персонализированные предложения.


## Используемые библиотеки
*matplotlib, numpy, pandas, phik, scikit-learn, seaborn, shap*

## Основные результаты

1. Построена и обучена **ML модель**, которая предсказывает вероятность снижения покупательской активности клиента в следующие три месяца.  
    
2. **Анализ важности признаков** для построенной модели показал:
    - Мало значимы признаки, характеризующие коммуникацию с клиентом. Это указывает на то, что текущая стратегия маркетинговых коммуникаций с покупателями не эффективна.
    - Среднюю значимость имеют признаки, характеризующие финансовое поведение покупателя (выручку и её динамику). Причём положительная динамика выручки от покупателя за прошедший период приводит к снижению его активности в будущем. 
    - Сильнее всего на вероятность снижения покупательской активности влияют признаки, характеризующие поведение покупателя на сайте (малое количество просмотренных страниц и время, проведённое на сайте), а также признаки, характеризующие продуктовое поведение покупателя (высокая доля акционных покупок, количество просмотренных категорий товаров и большое количество неоплаченных товаров в корзине).

3. На основании результатов моделирования и анализа значимости признаков проведена сегментация покупателей. Выделен и проанализирован **сегмент покупателей** с максимальной долей акционных покупок и высокой вероятностью снижения покупательской активности. 
    - Примерный **портрет типичного покупателя** из выбранного сегмента — это скорее всего женщины с детьми, которые покупают по акции в основном товары для детей. У них нет времени сидеть на сайте, а понравившиеся товары откладывают в корзину на потом, ожидая акций на них.
    - Прибыльность акционных покупателей оказалась лишь незначительно меньше среднего уровня. Это также лишний повод повысить прибыльность выбранного сегмента с помощью персонализированных предложений.
    - Покупатели, которые следят за акциями, как правило более восприимчивы к маркетинговым коммуникациям, поэтому можно ожидать для выбранного сегмента хорошей конверсии персонализированных предложений в покупки.
    
4. На основании результатов анализа выбранного сегмента сформулированы **рекомендации по работе с сегментом для увеличения покупательской активности**:
    - Увеличить частоту маркетинговых коммуникаций по популярным у сегмента категориям товаров, особенно по категории "Товары для детей", а также предлагать на страницах сайта больше похожих или связанных товаров, чтобы стимулировать покупателей чаще заходить на сайт и проводить на нём больше времени.
    - Напоминать покупателям об отложенных товарах в корзине, например, если они (или аналогичные товары) участвуют в акции.
    - В качестве **персональных рекомендаций** покупателям выбранного сегмента выгоднее предлагать товары из категорий "**Техника для красоты и здоровья**" (наиболее прибыльная категория в сегменте) и "**Домашний текстиль**", в которых выбранный сегмент приносит больше прибыли, чем остальные покупатели.
