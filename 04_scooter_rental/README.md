# Анализ данных сервиса аренды самокатов

## Описание

Проанализированы данные о пользователях сервиса и их поездках с акцентом на сравнении пользователей с подпиской и без подписки. Проверены статистические гипотезы о длительности поездок пользователей и выручке сервиса от них. Даны ответы на поставленные вопросы, связанные с планированием маркетинговых акций.

## Данные

В наличии имеются данные о некоторых пользователях популярного сервиса аренды самокатов из нескольких городов. В данных есть информация о пользователях, их поездках и подписках.

1. Таблица «Пользователи»:
    - уникальный идентификатор пользователя;
    - имя пользователя;
    - возраст;
    - город;
    - тип подписки (free, ultra).

2. Таблица «Поездки»:
    - уникальный идентификатор пользователя;
    - расстояние, которое пользователь проехал в текущей сессии (в метрах);
    - продолжительность сессии (в минутах) — время с того момента, как пользователь нажал кнопку «Начать поездку» до момента, как он нажал кнопку «Завершить поездку»;
    - дата совершения поездки.

3. Таблица «Подписки»:
    - тип подписки;
    - стоимость одной минуты поездки по данной подписке;
    - стоимость начала поездки;
    - стоимость ежемесячного платежа.


## Задачи

- Проанализировать данные о пользователях сервиса и их поездках. Сделать акцент на сравнении пользователей с подпиской и без подписки.

- Проверить гипотезы:
    - Пользователи с подпиской тратят больше времени на поездки.
    - Расстояние, которое проезжают пользователи с подпиской за одну поездку, не превышает оптимального с точки зрения износа самоката.
    - Помесячная выручка от пользователей с подпиской по месяцам выше, чем выручка от пользователей без подписки.
    
- Ответить на вопросы:
    - Какой тест понадобится для проверки гипотезы, что количество обращений в техподдержку значимо снизилось после обновления серверов, с которыми взаимодействует мобильное приложение?
    - Какое минимальное количество промокодов нужно разослать, чтобы получить  примерно равную 5 % вероятность не выполнить план акции, в рамках которой как минимум 100 существующих клиентов должны продлить подписку?
    - Какая вероятность того, что push-уведомление в мобильном приложении откроют не более 399,5 тыс. пользователей?


## Используемые библиотеки
*matplotlib, numpy, pandas, scipy*


## Основные результаты

1. На этапе **исследовательского анализа** данных установлено:
    - В выборке представлены 8 **городов**, среди которых есть мегаполис - Москва, крупные города-региональные центры (Екатеринбург, Ростов-на-Дону, Омск, Краснодар), крупный город Сочи и относительно небольшой Пятигорск. Распределение пользователей по городам примерно равномерное. Среднее число поездок на одного пользователя в зависимости от города меняется незначительно.

    - Доли **пользователей с подпиской и без подписки** в выборке не одинаковы, но отличаются не сильно. Однако количество поездок пользователей с подпиской в 1,8 раза меньше, чем у пользователей без подписки.
  
    - **Средний возраст** пользователей составляет 25 лет. 
    
    - Максимальная **средняя скорость поездки** составляет чуть более 25 км/ч. Большинство поездок совершается со средней скоростью от 6 до 16 км/ч, типичная скорость около 10 км/ч.

    - Для пользователей с подпиской и без подписки **распределение поездок по расстоянию** имеет максимум около 3 км, но для пользователей с подпиской распределение существенно более узкое, чем для пользователей без подписки. Вероятно, **подписку обычно приобретают постоянные пользователи, совершающие регулярные поездки примерно на одно и то же расстояние**. Распределения расстояния поездок для обеих категорий пользователей имеют побочный максимум в области коротких поездок, но его положение отличается в зависимости от категории:
       - Для пользователей без подписки расстояние **коротких поездок** составляет менее 1 км, а максимум распределения находится около 500 м, причём значительна доля поездок на околонулевые расстояния. Вероятно, аномально короткие поездки совершают **начинающие пользователи**, которые пока только пробуют сервис и не освоили в достаточной мере использование приложения. 
       - Для пользователей с подпиской расстояние коротких поездок больше и составляет от 0,5 до 1,5 км с максимумом распределения около 1 км. Поездки на околонулевые расстояния отсутствуют. Это значит, что **пользователи с подпиской уверенно пользуются сервисом** для совершения поездок.
    
    - Для обеих категорий пользователей **распределения поездок по продолжительности** похоже на нормальное с центром около 18 минут. Величины разброса значений для обеих категорий пользователей отличаются не сильно.
        - **У пользователей без подписки бывают отказы от совершения поездки**, которые в данных проявляются как поездки с продолжительностью 0,5 мин. 
        - **У пользователей с подпиской отказов от поездки не наблюдается**. Это указывает на то, что пользователи с подпиской пользуются сервисом более осознанно.
        
    - Исследование **совместного распределения расстояния и продолжительности поездок** для пользователей обеих категорий по диаграммам рассеяния подтвердило наблюдения, сделанные ранее по гистограммам распределения расстояния и продолжительности поездок:
        - Поездки пользователей с подпиской сгруппированы более компактно, что говорит о **большей однородности группы пользователей с подпиской** в их сценариях использования сервиса.
        - Для обеих категорий пользователей есть обособленный кластер коротких поездок. Вероятно, есть **два типичных сценария использования сервиса** - для поездок на короткие расстояния в пределах микрорайона и более длинные поездки по городу.
        - Пользователи без подписки чаще совершают очень короткие и аномально медленные поездки. Видимо, это **поездки начинающих пользователей**, которые только пробуют сервис или испытывают трудности с его использованием.
        - **Минимальная допустимая продолжительность поездок** в сервисе составляет 2 минуты.
        - **Максимальная допустимая продолжительность поездок для пользователей без подписки** в сервисе составляет 35 минут.
        
    - **Средняя скорость поездок** оказалась близка для пользователей обеих категорий, но её разброс больше для пользователей без подписки. Это также говорит в пользу того, что **пользователи с подпиской в среднем более уверенно пользуются сервисом**, поддерживая оптимальную скорость движения.

6. На этапе **проверки статистических гипотез** установлено:
    - **Средняя продолжительность поездок** пользователей с подпиской значимо больше средней продолжительности поездок пользователей без подписки.

    - **Среднее расстояние одной поездки** пользователей с подпиской не превышает 3130 м. Тем не менее, нельзя утверждать, что расстояние *всех* или по крайней мере *большинства* поездок не превышает 3130 м. Это утверждение будет верно только лишь для примерно половины всех поездок.

    - При уровне статистической значимости 0.05 для всех месяцев года **средняя помесячная выручка от пользователя** с подпиской значимо больше средней помесячной выручки от пользователя без подписки. Однако при выборе уровня статистической значимости 0.01 для марта уже нельзя отвергнуть нулевую гипотезу о равенстве помесячной выручки для пользователей обеих категорий в пользу альтернативной гипотезы о том, что от пользователей с подпиской помесячная выручка больше. Поэтому значимость вывода по результатам проверки гипотезы за этот месяц меньше, чем для других месяцев года.
    - Для проверки гипотезы о том, **снизилось ли количество обращений в техподдержку** после обновления серверов, с которыми взаимодействует мобильное приложение, нужно использовать односторонний двухвыборочный t-тест для зависимых (парных) выборок с альтернативной гипотезой, что количество обращений в техподдержку после обновления стало меньше.

    
7. На последнем этапе **планирования маркетинговых акций** установлено:
    - При условии, что после бесплатного пробного периода подписку продлевают 10 % пользователей, **минимальное количество промокодов**, которое нужно разослать, чтобы получить примерно равную 5 % вероятность не выполнить план акции, в рамках которой как минимум 100 существующих клиентов должны продлить подписку, составляет **1160**.

    - При рассылке 1 млн push-уведомлений в мобильном приложении и вероятности открытия уведомления пользователем 40 % **вероятность того, что полученное уведомление откроют** не более 399,5 тыс. пользователей, составляет **примерно 15 %**.
    
